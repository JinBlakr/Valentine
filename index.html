<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  height: 100vh;
  font-family: 'Pacifico', cursive;
  overflow: hidden;
  background: radial-gradient(circle at top, #ffd6e8, #ff9acb);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 2s ease;
}

body.zoom {
  transform: scale(1);
}

/* BACKGROUND SLIDESHOW */
.bg-slideshow {
  position: fixed;
  inset: 0;
  z-index: 15;
  background-size: cover;
  background-position: center;
  opacity: 0;
  transition: opacity 2s ease;
}

/* POLAROIDS */
.polaroids {
  position: fixed;
  inset: 0;
  z-index: 5;
  pointer-events: none;
}

.polaroid {
  position: absolute;
  width: 300px;
  height: 230px;
  background: white;
  padding: 10px 10px 32px;
  border-radius: 6px;
  box-shadow: 0 15px 35px rgba(255,105,180,0.4);
  animation: popIn 0.9s ease forwards;
  transition: transform 2s ease, opacity 2s ease;
}

.polaroid img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 4px;
}

.polaroid span {
  position: absolute;
  bottom: 7px;
  left: 50%;
  transform: translateX(-50%);
  font-family: 'Quicksand', sans-serif;
  font-size: 0.75rem;
  color: #ff3d8b;
}

@keyframes popIn {
  from { opacity: 0; transform: scale(0.6) rotate(var(--rot)); }
  to { opacity: 1; transform: scale(1) rotate(var(--rot)); }
}

/* CARD */
.card {
  position: relative;
  z-index: 25;
  background: rgba(255,245,250,0.97);
  padding: 35px 45px;
  border-radius: 28px;
  text-align: center;
  box-shadow: 0 25px 50px rgba(255,105,180,0.45);
}

h1 { color: #ff3d8b; }

.buttons {
  display: flex;
  gap: 25px;
  justify-content: center;
}

button {
  font-family: 'Pacifico', cursive;
  font-size: 1.5rem;
  padding: 14px 32px;
  border-radius: 50px;
  border: none;
  cursor: pointer;
}

#yesBtn { background: #ff69b4; color: white; }
#noBtn { background: #ffd1dc; color: #ff3d8b; }

#message {
  display: none;
  margin-top: 25px;
  font-size: 2rem;
  color: #ff3d8b;
}

/* LOVE MESSAGE */
#loveMessage {
  position: fixed;
  top: 18%;
  left: 50%;
  transform: translateX(-50%);
  z-index: 30;
  font-size: 4rem;
  color: #ff3d8b;
  opacity: 0;
  pointer-events: none;
}

@keyframes loveFadeIn {
  from { opacity: 0; transform: translateX(-50%) scale(0.6); }
  to { opacity: 1; transform: translateX(-50%) scale(1); }
}

/* HEARTS */
.heart {
  position: fixed;
  bottom: -20px;
  font-size: 24px;
  animation: floatHeart 6s linear forwards;
  z-index: 25;
}

@keyframes floatHeart {
  to { transform: translateY(-110vh) scale(1.4); opacity: 0; }
}
</style>
</head>

<body>

<div class="bg-slideshow" id="bgSlide"></div>
<div class="polaroids" id="polaroids"></div>

<audio id="music" loop>
  <source src="Dave - Raindance (ft. Tems).m4a" type="audio/mp4">
</audio>

<div class="card">
  <h1 id="question">Will you be my Valentine? üíñ</h1>
  <div class="buttons">
    <button id="yesBtn">Yes üíï</button>
    <button id="noBtn">No üíî</button>
  </div>
  <div id="message">üíï 1 Red Oman Never 2 üíï
  </div>
</div>

<div id="loveMessage">I love you ‚ù§Ô∏è</div>

<script>
const images = Array.from({ length: 24 }, (_, i) => `bg${i + 1}.jpg`);
const bg = document.getElementById("bgSlide");
const polaroids = document.getElementById("polaroids");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const music = document.getElementById("music");
const message = document.getElementById("message");
const question = document.getElementById("question");
const buttons = document.querySelector(".buttons");
const loveMessage = document.getElementById("loveMessage");

/* INITIAL POLAROIDS */
const cols = window.innerWidth < 480 ? 2 : window.innerWidth < 768 ? 4 : 6;
const spacingX = window.innerWidth / cols;
const spacingY = 240;

const allPolaroids = [];

images.forEach((src, i) => {
  const p = document.createElement("div");
  p.className = "polaroid";
  p.style.left = (i % cols) * spacingX + "px";
  p.style.top = Math.floor(i / cols) * spacingY + "px";
  p.style.setProperty("--rot", `${Math.random() * 30 - 15}deg`);

  const img = document.createElement("img");
  img.src = src;
  p.appendChild(img);

  const cap = document.createElement("span");
  cap.textContent = "MY LOVE üíï";
  p.appendChild(cap);

  polaroids.appendChild(p);
  allPolaroids.push(p);
});

/* NO BUTTON */
noBtn.onclick = () => {
  noBtn.style.transform =
    `translate(${Math.random() * 120 - 60}px, ${Math.random() * 120 - 60}px)`;
};

/* YES BUTTON */
let started = false;

yesBtn.onclick = () => {
  if (started) return;
  started = true;

  document.body.classList.add("zoom");
  question.style.display = "none";
  buttons.style.display = "none";
  message.style.display = "block";

  // Play music with fade
  music.volume = 0;
  music.play();
  const fade = setInterval(() => {
    if (music.volume >= 0.6) clearInterval(fade);
    music.volume += 0.02;
  }, 120);

  // Start background slideshow
  let index = 0;
  bg.style.backgroundImage = `url('${images[index]}')`;
  bg.style.opacity = 1;
  setInterval(() => {
    bg.style.opacity = 0;
    setTimeout(() => {
      index = (index + 1) % images.length;
      bg.style.backgroundImage = `url('${images[index]}')`;
      bg.style.opacity = 1;
    }, 1000);
  }, 5000);

  // Animate polaroids continuously (shuffle, rotate slightly)
  setInterval(() => {
    allPolaroids.forEach(p => {
      const dx = Math.random() * 20 - 10;
      const dy = Math.random() * 20 - 10;
      const rot = Math.random() * 30 - 15;
      p.style.transform = `translate(${dx}px, ${dy}px) rotate(${rot}deg)`;
    });
  }, 2000);

  // Hearts animation
  setInterval(() => {
    const h = document.createElement("div");
    h.className = "heart";
    h.textContent = "üíñ";
    h.style.left = Math.random() * 100 + "vw";
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 6000);
  }, 300);

  // Love message
  loveMessage.style.animation = "loveFadeIn 1.5s ease forwards";
};
</script>

</body>
</html>
